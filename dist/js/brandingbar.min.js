!function(){function a(){return"bb"}function b(){return"0.1.1"}function c(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function d(a,b,d){for(var e=0;e<a.length;e++)c(a[e],b,d)}function e(a,b){if(a.classList)a.classList.toggle(b);else{for(var c=a.className.split(" "),d=-1,e=c.length;e--;)c[e]===b&&(d=e);d>=0?c.splice(d,1):c.push(b),a.className=c.join(" ")}}function f(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function g(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(a,b,c,d){var e=new XMLHttpRequest;e.open(a,b,!0),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"===a&&e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?d(null,this.responseText):d(this.statusText))},c?e.send(m(c)):e.send(),e=null}function j(a,b,c){h("POST",a,b,c)}function k(a,b,c){"function"==typeof b&&(c=b,b=null),b||(b={}),b.callbackParam||(b.callbackParam="callback");var d=document.createElement("script"),e="jsonp_"+(new Date).getTime();d.src=a+(a.match(/\?/)?"&":"?")+b.callbackParam+"="+e,d.async=!0,d.onload=function(){setTimeout(function(){delete window[e]},0)},window[e]=c,document.querySelector("head").appendChild(d)}function l(){return"withCredentials"in new XMLHttpRequest}function m(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function n(a,b,c){var d=document.querySelectorAll(a+("script"==a)?'[src$="'+c+'"]':'[href$="'+c+'"]').length;if(d)return!1;var e=document.createElement(a);return"script"==a?e.src=b:(e.href=b,e.rel="stylesheet"),document.querySelector("head").appendChild(e),!0}function o(c,d){return d||(d={}),d.namespace=a(),d.version=b(),c.replace(/\{\{ ?([\w\d_]+) ?\}\}/gi,function(a,b){return d[b]||""})}function p(b,c,d){var e={response:"json",email:c,zipcode:d};j("http://sunlightfoundation.com/join/",e,function(b,c){if(b){var d=document.querySelector("."+a()+"_email-form-fail");q(d,{add:"is-true"})}else{var e=JSON.parse(c),f="http://sunlightfoundation.com"+e.redirect,g=document.querySelector("."+a()+"_email-form");q(g,{add:"is-hidden"});var d=document.querySelector("."+a()+"_email-form-fail");q(d,{remove:"is-true"});var h=document.querySelector("."+a()+"_email-form-success");q(h,{add:"is-true"});var i=document.querySelector(".bb_email-sucess-url");i.href=f}})}function r(){var e=document.querySelector("[data-"+a()+"-brandingbar]");if(e){var f=document.querySelector("#"+a()+"_panel"),g="https://sunlightfoundation.com/brandingbar/",h=e.getAttribute("data-"+a()+"-property-id"),i=n("link","https://s3.amazonaws.com/sunlight-cdn/brandingbar/"+b()+"/css/brandingbar.css","brandingbar.css"),j=!1;e.innerHTML||(e.innerHTML=o(barTemplate),j=n("link","https://s3.amazonaws.com/sunlight-cdn/brandingbar/"+b()+"/css/brandingbar-default.css")),f||(f=document.createElement("div"),i&&(f.style.display="none",setTimeout(function(){f.style.display=""},750)),f.id=a()+"_panel",e.parentElement.insertBefore(f,e)),f.innerHTML||(f.innerHTML=o(panelTemplate));var m=document.querySelector("."+a()+"_wrapper"),r=document.querySelectorAll("[data-"+a()+'-toggle="'+"."+a()+'_wrapper"]'),s=f.querySelectorAll("."+a()+"_tools-heading"),t=f.querySelectorAll("."+a()+"_tools-details");if(d(r,"click",function(a){a.preventDefault(),q(m,{toggle:"is-active"})}),d(s,"click",function(b){var c=document.querySelector(this.getAttribute("data-"+a()+"-toggle"));b.preventDefault(),"undefined"!=typeof c&&(q(s,{toggle:"is-inactive"}),q(t,{add:"is-hidden",remove:a()+"_fade-animation"}),q(c,{add:a()+"_fade-animation",remove:"is-hidden"}))}),h&&(g+="?pid="+h,k(g,function(a){var b=featuredTools.querySelector("ul");b.innerHTML="";for(var c=0;c<a.length;c++)b.innerHTML+=o(toolTemplate,a[c])})),l()){var u=document.querySelector("."+a()+"_email-form");c(u,"submit",function(a){a.preventDefault();var b=u.querySelector("input[name=email]").value,c=u.querySelector("input[name=zipcode]").value;console.log(b+" "+c),p("http://sunlightfoundation.com/subscribe/",b,c)})}}}var q=function(a,b){"string"==typeof b.toggle&&(b.toggle=[b.toggle]),"string"==typeof b.add&&(b.add=[b.add]),"string"==typeof b.remove&&(b.remove=[b.remove]),"undefined"==typeof a.length&&(a=[a]);var c,d;for(c=0;c<a.length;c++){if(b.toggle)for(d=0;d<b.toggle.length;d++)e(a[c],b.toggle[d]);if(b.add&&f(a[c],b.add.join(" ")),b.remove)for(d=0;d<b.remove.length;d++)g(a[c],b.remove[d])}};panelTemplate='  <button id="{{ namespace }}_close-panel" data-{{ namespace }}-toggle=".{{ namespace }}_wrapper">&times;</button>  <div class="{{ namespace }}_panel-container">    <div class="{{ namespace }}_about">      <span class="{{ namespace }}_heading">About Sunlight Foundation</span>      <p class="{{ namespace }}_description">Founded in 2006, the Sunlight Foundation is a nonpartisan nonprofit that uses cutting-edge technology and ideas to make government transparent and accountable. <a class="{{ namespace }}_link" href="http://sunlightfoundation.com/about">Learn more &raquo;</a></p>      <div class="{{ namespace }}_email">        <span class="{{ namespace }}_heading">Stay informed about our work</span>        <form class="{{ namespace }}_email-form" action="http://sunlightfoundation.com/join/" method="post">          <input class="{{ namespace }}_input" type="email" placeholder="email address" name="email">          <input class="{{ namespace }}_input {{ namespace }}_input-zip" type="text" placeholder="zip code" name="zipcode">          <button class="{{ namespace }}_submit" type="submit">Submit</button>          <span class="{{ namespace }}_email-form-fail">Oops, there was an error :(</span>        </form>        <div class="bb_email-form-success"> Thanks for subscribing to our updates! <a class="bb_link bb_email-sucess-url" href="">Tell us more about you &raquo;</a></div>      </div>    </div>    <div class="{{ namespace }}_tools">      <span class="{{ namespace }}_heading">        <span class="{{ namespace }}_tools-heading" id="{{ namespace }}_featured-tools-heading" data-{{ namespace }}-toggle="#{{ namespace }}_featured-tools">Related Tools</span>        <span class="{{ namespace }}_tools-heading is-inactive" id="{{ namespace }}_more-tools-heading" data-{{ namespace }}-toggle="#{{ namespace }}_more-tools">All Tools</span>      </span>      <div id="{{ namespace }}_featured-tools" class="{{ namespace }}_tools-details">        <ul class="{{ namespace }}_tools-featured">          <li>            <a class="{{ namespace }}_tools-logo" href="http://opencongress.com">            <img src="http://sunlight-cdn.s3.amazonaws.com/brandingbar/{{ version }}/img/logo_opencongress.png" alt="Open Congress"/>            </a>            <p class="{{ namespace }}_description">              <a class="{{ namespace }}_link" href="http://opencongress.com">OpenCongress</a> allows anyone to follow legislation in Congress, from bill introduction to floor votes. Learn more about the issues you care about.            </p>          </li>          <li>            <a class="{{ namespace }}_tools-logo" href="http://scout.sunlightfoundation.com">              <img src="http://sunlight-cdn.s3.amazonaws.com/brandingbar/{{ version }}/img/logo_scout.png" alt="Scout"/>            </a>            <p class="{{ namespace }}_description">              <a class="{{ namespace }}_link" href="http://scout.sunlightfoundation.com">Scout</a> is a rapid notification service that allows anyone to create customized email or text alerts on actions Congress takes on an issue or a specific bill.            </p>          </li>        </ul>      </div>      <div id="{{ namespace }}_more-tools" class="{{ namespace }}_tools-details is-hidden">        <ul class="{{ namespace }}_tools-list">          <li><a class="{{ namespace }}_link" href="http://www.opencongress.org">OpenCongress</a></li>          <li><a class="{{ namespace }}_link" href="http://influenceexplorer.com">Influence Explorer</a></li>          <li><a class="{{ namespace }}_link" href="http://openstates.org">Open States</a></li>          <li><a class="{{ namespace }}_link" href="https://scout.sunlightfoundation.com">Scout</a></li>        </ul>        <ul class="{{ namespace }}_tools-list">          <li><a class="{{ namespace }}_link" href="http://churnalism.sunlightfoundation.com">Churnalism</a></li>          <li><a class="{{ namespace }}_link" href="http://capitolwords.org">Capitol Words</a></li>          <li><a class="{{ namespace }}_link" href="http://politwoops.sunlightfoundation.com">Politwoops</a></li>          <li><a class="{{ namespace }}_link" href="http://adhawk.sunlightfoundation.com">Ad Hawk</a></li>        </ul>        <ul class="{{ namespace }}_tools-list">          <li><a class="{{ namespace }}_link" href="http://politicalpartytime.org">Party Time</a></li>          <li><a class="{{ namespace }}_link" href="https://scout.sunlightfoundation.com">Scout</a></li>          <li><a class="{{ namespace }}_link" href="http://docketwrench.sunlightfoundation.com">Docket Wrench</a></li>          <li><a class="{{ namespace }}_link" href="http://politicaladsleuth.com">Political Ad Sleuth</a></li>        </ul>      </div>    </div>  </div>',toolTemplate='  <li>    <a class="{{ namespace }}_tools_logo" href="{{ href }}">      <img src="{{ img }}" alt="{{ name }}"/>    </a>    <p class="{{ namespace }}_description">      {{ description }}    </p>  </li>',barTemplate='  <div class="branding-bar_container">    <div class="branding-bar_links">      <a class="social" href="https://www.facebook.com/sunlightfoundation"><span class="icon icon-facebook"></span></a>      <a class="social" href="https://twitter.com/sunfoundation"><span class="icon icon-twitter"></span></a>      <a class="social" href="https://plus.google.com/+sunlightfoundation"><span class="icon icon-google-plus"></span></a>      <a class="branding-bar_trigger" data-bb-toggle=".bb_wrapper" href="http://sunlightfoundation.com/about/">About Sunlight Foundation</a>    </div>    <div class="branding-bar_logo">      <span class="branding-bar_productof">a product of </span>      <a class="branding-bar_sunlight-logo" href="http://www.sunlightfoundation.com">Sunlight Foundation</a>    </div>  </div>',r()}();